// This is the minified and stringified code of the media-encoder-host-worker package.
export const worker = `!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=77)}([function(n,t,e){"use strict";e.d(t,"a",(function(){return u})),e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return s})),e.d(t,"d",(function(){return f}));var r=e(1);const o=-32603,c=-32602,i=-32601,u=Object(r.compile)({message:'The requested method called "\${method}" is not supported.',status:i}),a=Object(r.compile)({message:'The handler of the method called "\${method}" returned no required result.',status:o}),s=Object(r.compile)({message:'The handler of the method called "\${method}" returned an unexpected result.',status:o}),f=Object(r.compile)({message:'The specified parameter called "portId" with the given value "\${portId}" does not identify a port connected to this worker.',status:c})},function(n,t,e){!function(n,t,e,r){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r;var o=function(n,t){return void 0===t?n:t.reduce((function(n,t){if("capitalize"===t){var o=n.charAt(0).toUpperCase(),c=n.slice(1);return"".concat(o).concat(c)}return"dashify"===t?e(n):"prependIndefiniteArticle"===t?"".concat(r(n)," ").concat(n):n}),n)},c=function(n,e){for(var r=/\\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g,c=[],i=r.exec(n);null!==i;){var u={modifiers:[],name:i[1]};if(void 0!==i[3])for(var a=/\\.[^(]+\\(\\)/g,s=a.exec(i[2]);null!==s;)u.modifiers.push(s[0].slice(1,-2)),s=a.exec(i[2]);c.push(u),i=r.exec(n)}var f=c.reduce((function(n,r){return n.map((function(n){return"string"==typeof n?n.split(function(n){var t=n.name+n.modifiers.map((function(n){return"\\\\.".concat(n,"\\\\(\\\\)")})).join("");return new RegExp("\\\\$\\\\{".concat(t,"}"),"g")}(r)).reduce((function(n,c,i){return 0===i?[c]:r.name in e?[].concat(t(n),[o(e[r.name],r.modifiers),c]):[].concat(t(n),[function(n){return o(n[r.name],r.modifiers)},c])}),[]):[n]})).reduce((function(n,e){return[].concat(t(n),t(e))}),[])}),[n]);return function(n){return f.reduce((function(e,r){return[].concat(t(e),"string"==typeof r?[r]:[r(n)])}),[]).join("")}};n.compile=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=void 0===n.code?void 0:c(n.code,t),r=void 0===n.message?void 0:c(n.message,t);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,c=void 0===o&&(t instanceof Error||void 0!==t.code&&"Exception"===t.code.slice(-9)),i=c?{cause:t,missingParameters:{}}:{cause:o,missingParameters:t},u=i.cause,a=i.missingParameters,s=void 0===r?new Error:new Error(r(a));return null!==u&&(s.cause=u),void 0!==e&&(s.code=e(a)),void 0!==n.status&&(s.status=n.status),s}return o},Object.defineProperty(n,"__esModule",{value:!0})}(t,e(78),e(82),e(83))},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=()=>new Promise(n=>{const t=new ArrayBuffer(0),{port1:e,port2:r}=new MessageChannel;e.onmessage=({data:t})=>n(null!==t),r.postMessage(t,[t])})},function(n,t,e){!function(n){"use strict";var t,e=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,r=new WeakMap,o=(t=r,function(n,e){return t.set(n,e),e}),c=function(n,t){return function(r){var o=t.get(r),c=void 0===o?r.size:o>2147483646?0:o+1;if(!r.has(c))return n(r,c);if(r.size<1073741824){for(;r.has(c);)c=Math.floor(2147483648*Math.random());return n(r,c)}if(r.size>e)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*e);return n(r,c)}}(o,r),i=function(n){return function(t){var e=n(t);return t.add(e),e}}(c);n.addUniqueNumber=i,n.generateUniqueNumber=c,Object.defineProperty(n,"__esModule",{value:!0})}(t)},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=n=>{n.onmessage=null,n.close()}},function(n,t,e){"use strict";e(6),e(7),e(8),e(9),e(10),e(11),e(12),e(13),e(14),e(15),e(16),e(17),e(18),e(19)},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t,e){"use strict";e(21),e(22),e(23),e(24),e(25),e(26),e(27),e(28),e(29),e(30),e(31)},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t,e){"use strict";e(33),e(34),e(35),e(36)},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t,e){"use strict";e(38)},function(n,t){},function(n,t,e){"use strict";e(40)},function(n,t){},function(n,t,e){"use strict";e(42),e(43),e(44)},function(n,t){},function(n,t){},function(n,t){},function(n,t,e){"use strict";e.r(t);var r=e(46);for(var o in r)"default"!==o&&function(n){e.d(t,n,(function(){return r[n]}))}(o)},function(n,t){},function(n,t,e){"use strict";e.r(t);var r=e(48);for(var o in r)"default"!==o&&function(n){e.d(t,n,(function(){return r[n]}))}(o);var c=e(49);for(var o in c)"default"!==o&&function(n){e.d(t,n,(function(){return c[n]}))}(o);var i=e(50);for(var o in i)"default"!==o&&function(n){e.d(t,n,(function(){return i[n]}))}(o);var u=e(51);for(var o in u)"default"!==o&&function(n){e.d(t,n,(function(){return u[n]}))}(o);var a=e(52);for(var o in a)"default"!==o&&function(n){e.d(t,n,(function(){return a[n]}))}(o);var s=e(53);for(var o in s)"default"!==o&&function(n){e.d(t,n,(function(){return s[n]}))}(o);var f=e(54);for(var o in f)"default"!==o&&function(n){e.d(t,n,(function(){return f[n]}))}(o);var d=e(55);for(var o in d)"default"!==o&&function(n){e.d(t,n,(function(){return d[n]}))}(o);var l=e(56);for(var o in l)"default"!==o&&function(n){e.d(t,n,(function(){return l[n]}))}(o);var p=e(57);for(var o in p)"default"!==o&&function(n){e.d(t,n,(function(){return p[n]}))}(o);var v=e(58);for(var o in v)"default"!==o&&function(n){e.d(t,n,(function(){return v[n]}))}(o);var m=e(59);for(var o in m)"default"!==o&&function(n){e.d(t,n,(function(){return m[n]}))}(o);var h=e(60);for(var o in h)"default"!==o&&function(n){e.d(t,n,(function(){return h[n]}))}(o);var g=e(61);for(var o in g)"default"!==o&&function(n){e.d(t,n,(function(){return g[n]}))}(o);var w=e(62);for(var o in w)"default"!==o&&function(n){e.d(t,n,(function(){return w[n]}))}(o)},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t,e){"use strict";e.d(t,"createWorker",(function(){return c}));var r=e(64),o=e(65);e(2),e(5),e(20);const c=(n,t,e=(()=>!0))=>{const i=Object(o.a)(c,t,e),u=Object(r.a)(n,i);return n.addEventListener("message",u),()=>n.removeEventListener("message",u)}},function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e(0);const o=(n,t)=>async({data:{id:e,method:o,params:c}})=>{const i=t[o];try{if(void 0===i)throw Object(r.a)({method:o});const t=void 0===c?i():i(c);if(void 0===t)throw Object(r.b)({method:o});const u=t instanceof Promise?await t:t;if(null===e){if(void 0!==u.result)throw Object(r.c)({method:o})}else{if(void 0===u.result)throw Object(r.c)({method:o});const{result:t,transferables:c=[]}=u;n.postMessage({id:e,result:t},c)}}catch(t){const{message:r,status:o=-32603}=t;n.postMessage({error:{code:o,message:r},id:e})}}},function(n,t,e){"use strict";e.d(t,"a",(function(){return u}));var r=e(3),o=e(0),c=e(2);const i=new Map,u=(n,t,e)=>({...t,connect:({port:e})=>{e.start();const o=n(e,t),c=Object(r.generateUniqueNumber)(i);return i.set(c,()=>{o(),e.close(),i.delete(c)}),{result:c}},disconnect:({portId:n})=>{const t=i.get(n);if(void 0===t)throw Object(o.d)({portId:n.toString()});return t(),{result:null}},isSupported:async()=>{if(await Object(c.a)()){const n=e();return{result:n instanceof Promise?await n:n}}return{result:!1}}})},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=(n,t)=>e=>{const[r,o,c,i]=t(e);return c?new Promise(t=>{o.onmessage=({data:c})=>{0===c.length?(n(o),t(r.encode(e,null))):r.record(e,i,c)}}):r.encode(e,null)}},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=n=>t=>{const e=n.get(t);if(void 0===e)throw new Error("There was no instance of an encoder stored with the given id.");return e}},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=(n,t,e)=>(r,o,c)=>{if(t.has(r))throw new Error('There is already an encoder registered with an id called "'.concat(r,'".'));const i=e(o),{port1:u,port2:a}=new MessageChannel,s=[i,u,!0,c];return t.set(r,s),u.onmessage=({data:t})=>{0===t.length?(n(u),s[2]=!1):i.record(r,c,t)},a}},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=n=>t=>{for(const[e,r]of Array.from(n.values()))if(e.test(t))return r;throw new Error("There is no encoder registered which could handle the given mimeType.")}},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=(n,t)=>e=>{const r=t(e);return n.delete(e),r}},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=n=>(t,e)=>{const[r]=n(t);return r.encode(t,e)}},function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e(73);const o=async(n,t)=>{const e=Object(r.wrap)(t),o=await e.characterize(),c=o.toString();if(n.has(c))throw new Error("There is already an encoder stored which handles exactly the same mime types.");return n.set(c,[o,e]),o}},function(n,t,e){"use strict";e.d(t,"wrap",(function(){return o}));var r=e(74);e(39),e(41);const o=Object(r.createBroker)({characterize:({call:n})=>()=>n("characterize"),encode:({call:n})=>(t,e)=>n("encode",{recordingId:t,timeslice:e}),record:({call:n})=>async(t,e,r)=>{await n("record",{recordingId:t,sampleRate:e,typedArrays:r},r.map(({buffer:n})=>n))}})},function(n,t,e){"use strict";e.d(t,"createBroker",(function(){return u}));var r=e(3),o=e(75),c=e(76);e(32),e(37);const i=new WeakMap,u=n=>{const t=Object(c.a)(n);return n=>{const e=(n=>{if(i.has(n))return i.get(n);const t=new Map;return i.set(n,t),t})(n);n.addEventListener("message",({data:n})=>{const{id:t}=n;if(null!==t&&e.has(t)){const{reject:r,resolve:o}=e.get(t);e.delete(t),void 0===n.error?o(n.result):r(new Error(n.error.message))}}),Object(o.a)(n)&&n.start();const c=(t,o=null,c=[])=>new Promise((i,u)=>{const a=Object(r.generateUniqueNumber)(e);e.set(a,{reject:u,resolve:i}),null===o?n.postMessage({id:a,method:t},c):n.postMessage({id:a,method:t,params:o},c)}),u=(t,e,r=[])=>{n.postMessage({id:null,method:t,params:e},r)};let a={};for(const[n,e]of Object.entries(t))a={...a,[n]:e({call:c,notify:u})};return{...a}}}},function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));const r=n=>"function"==typeof n.start},function(n,t,e){"use strict";const r=new WeakMap;e.d(t,"a",(function(){return o}));const o=n=>({...n,connect:({call:n})=>async()=>{const{port1:t,port2:e}=new MessageChannel,o=await n("connect",{port:t},[t]);return r.set(e,o),e},disconnect:({call:n})=>async t=>{const e=r.get(t);if(void 0===e)throw new Error("The given port is not connected.");await n("disconnect",{portId:e})},isSupported:({call:n})=>()=>n("isSupported")})},function(n,t,e){"use strict";e.r(t);var r=e(63),o=e(66),c=e(67),i=e(68),u=e(69),a=e(70),s=e(71),f=e(4),d=e(72),l=e(45);for(var p in l)"default"!==p&&function(n){e.d(t,n,(function(){return l[n]}))}(p);var v=e(47);for(var p in v)"default"!==p&&function(n){e.d(t,n,(function(){return v[n]}))}(p);const m=new Map,h=Object(c.a)(m),g=Object(a.a)(m,h),w=new Map,b=Object(o.a)(f.a,g),y=Object(u.a)(w),O=Object(i.a)(f.a,m,y),j=Object(s.a)(h);Object(r.createWorker)(self,{encode:async({encoderId:n,timeslice:t})=>{const e=null===t?await b(n):await j(n,t);return{result:e,transferables:e}},instantiate:({encoderId:n,mimeType:t,sampleRate:e})=>{const r=O(n,t,e);return{result:r,transferables:[r]}},register:async({port:n})=>({result:await Object(d.a)(w,n)})})},function(n,t,e){var r=e(79),o=e(80),c=e(81);n.exports=function(n){return r(n)||o(n)||c()}},function(n,t){n.exports=function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}},function(n,t){n.exports=function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}},function(n,t){n.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(n,t,e){"use strict";n.exports=(n,t)=>{if("string"!=typeof n)throw new TypeError("expected a string");return n.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\\W/g,n=>/[À-ž]/.test(n)?n:"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,n=>t&&t.condense?"-":n).toLowerCase()}},function(n,t,e){var r=function(n){var t,e,r=/\\w+/.exec(n);if(!r)return"an";var o=(e=r[0]).toLowerCase(),c=["honest","hour","hono"];for(t in c)if(0==o.indexOf(c[t]))return"an";if(1==o.length)return"aedhilmnorsx".indexOf(o)>=0?"an":"a";if(e.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var i=[/^e[uw]/,/^onc?e\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(t=0;t<i.length;t++)if(o.match(i[t]))return"a";return e.match(/^U[NK][AIEO]/)?"a":e==e.toUpperCase()?"aedhilmnorsx".indexOf(o[0])>=0?"an":"a":"aeiou".indexOf(o[0])>=0?"an":o.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};void 0!==n.exports?n.exports=r:window.indefiniteArticle=r}]);`; // tslint:disable-line:max-line-length
